## Code for *Fitness advantage of sequential metabolic strategies emerges from community interactions in strongly fluctuating environments*

Authors: Zihan Wang, Yu Fu, Akshit Goyal and Sergei Maslov. 

The `code_on_slurm` folder contains Python and Bash scripts used to generate all the data presented in the paper. The `lag_test_utils.py` file includes essential classes and functions for simulating community assembly in fluctuating environments, while `utils.py` provides functions for performing linear algebra analyses of communities. The other Python files in the folder are numerical experiment scripts that generate raw data, each accompanied by a Bash script for submitting the corresponding task to a Slurm cluster. 

- `code_on_slurm/fitness.py` generates the data for Fig. 2c-d.
- `code_on_slurm/lag_test.py` generates data for Fig. 2e, Fig. 3a, 3b, 3d, Supp. Fig. 1, and Supp. Fig. 6. This data is also used for comparison in Supp. Fig. 2a, 3a, 4a, and 5a.
- `code_on_slurm/lag_test_vary_params.py` generates data for Supp. Fig. 2a, 3a, 4a, and 5a.
- `code_on_slurm/stability.py` generates the data for Supp. Fig. 5f, which is also used in Supp. Fig. 2b, 3b, and 4b.
- The data for Fig. 3c and Supp. Fig. 5b-c is generated on the fly within the corresponding notebooks.

The `data` folder contains the raw data generated by the aforementioned scripts. Specifically:

- `seq_vs_co_lag_new` holds results from community assembly simulations.
- `stabilities` contains the calculated structural stabilities of the communities.

The ```notebooks``` folder contains Jupyter Notebook files that use the generated data to make plots that are presented in the main text and supplementary Information.

In the codes, the parameter $\rho$ is used to denote proteome reallocation, where $\rho=\phi_{pre}*n_R$. 
